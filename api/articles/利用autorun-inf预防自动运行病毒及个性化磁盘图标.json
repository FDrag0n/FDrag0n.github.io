{"title":"利用autorun.inf预防自动运行病毒及个性化磁盘图标","slug":"利用autorun-inf预防自动运行病毒及个性化磁盘图标","date":"2018-08-13T02:37:01.000Z","updated":"2018-08-23T10:09:23.289Z","comments":true,"excerpt":"","content":"<h1 id=\"AutoRun简介\"><a href=\"#AutoRun简介\" class=\"headerlink\" title=\"AutoRun简介\"></a>AutoRun简介</h1><p>  AutoRun和AutoPlay是微软窗口系统的组件，其内容标示着系统在搜索到设备时可采取的行动。</p>\n<p>  AutoRun在Windows 95时首度露面，目的是帮助用户正确运行光盘上制作者想要运行的文件，另外AutoRun也能透过双击我的计算机内的设备图标启动AutoRun。但后来U盘病毒横行，微软发布更新关闭非光盘驱动器的AutoRun。</p>\n<p>  在Windows XP之后，微软让用户方便选择相关应用程序，制作出如图形化接口方式让用户选择如何处理设备中的文件。</p>\n<h1 id=\"AutoRun-inf文件\"><a href=\"#AutoRun-inf文件\" class=\"headerlink\" title=\"AutoRun.inf文件\"></a>AutoRun.inf文件</h1><p>  autrun.inf是我们电脑使用中比较常见的文件之一 ，其作用是允许在双击磁盘时自动运行指定的某个文件。但是近几年出现了用autorun.inf文件传播木马或病毒，它通过使用者的误操作让目标程序执行，达到侵入电脑的目的，带来了很大的负面影响。</p>\n<h1 id=\"AutoRun-inf的示例\"><a href=\"#AutoRun-inf的示例\" class=\"headerlink\" title=\"AutoRun.inf的示例\"></a>AutoRun.inf的示例</h1><pre><code>[autorun] \nopen=setup.exe \nicon=setup.exe,0\nlabel=My install CD\n</code></pre><p>双击盘符时会运行setup.exe，而显示图标为setup.exe中第0个图标（即第1个图标），标签是My install CD。</p>\n<h1 id=\"AutoRun-inf的默认激活\"><a href=\"#AutoRun-inf的默认激活\" class=\"headerlink\" title=\"AutoRun.inf的默认激活\"></a>AutoRun.inf的默认激活</h1><ul>\n<li>插入设备时启动。</li>\n<li>双击我的计算机设备时启动。</li>\n<li>对我的计算机设备点击右键菜单中 “AutoRun” 项目时启动。</li>\n<li>其他(如点击根目录文件夹)则不会启动。<h2 id=\"windows-XP-以前\"><a href=\"#windows-XP-以前\" class=\"headerlink\" title=\"windows XP 以前\"></a>windows XP 以前</h2></li>\n<li>所有设备都会依照 Autorun.inf 启动。<h2 id=\"Windows-7\"><a href=\"#Windows-7\" class=\"headerlink\" title=\"Windows 7\"></a>Windows 7</h2></li>\n<li>只有光盘会先运行 autorun.inf</li>\n</ul>\n<h1 id=\"利用autorun-inf给硬盘改图标及简易防病毒\"><a href=\"#利用autorun-inf给硬盘改图标及简易防病毒\" class=\"headerlink\" title=\"利用autorun.inf给硬盘改图标及简易防病毒\"></a>利用autorun.inf给硬盘改图标及简易防病毒</h1><h2 id=\"个性化磁盘—改图标\"><a href=\"#个性化磁盘—改图标\" class=\"headerlink\" title=\"个性化磁盘—改图标\"></a>个性化磁盘—改图标</h2><p>在对应磁盘的根目录新建一个记事本，然后修改里面内容</p>\n<pre><code>[AUTORUN]\nICON=drag0n.ico\n</code></pre><p>然后将其保存为autorun.inf（注意ico的文件名字符不要超过6位）</p>\n<p>再将你想用的图标转换成ico文件，推荐分辨率不要超过48x48，然后一同放进同目录下，然后改名为fdragn.ico。</p>\n<p><img src=\"https://fdrag0n.github.io/image/1.png\" alt=\"\"></p>\n<h2 id=\"简易防病毒\"><a href=\"#简易防病毒\" class=\"headerlink\" title=\"简易防病毒\"></a>简易防病毒</h2><p>此时文件是显示在当前目录下的，可以使用Windows下的attrib命令给文件增加属性</p>\n<pre><code>attrib指令的格式和常用参数为\nATTRIB [+R | -R] [+A | -A ] [+S | -S] [+H | -H] [[drive:] [path] filename] [/S [/D]]\n+ 设置属性。\n- 清除属性。\nR 只读文件属性。\nA 存档文件属性。\nS 系统文件属性。\nH 隐藏文件属性。\nI 无内容索引文件属性。\n[drive:][path][filename]\n指定要处理的文件属性。\n/S 处理当前文件夹及其子文件夹中的匹配文件。\n/D 处理文件夹。\n/L 处理符号链接和符号链接目标的属性。\n</code></pre><p>所以使用</p>\n<pre><code>attrib +s +h +r autorun.inf\n</code></pre><p>给autorun.inf添加系统、隐藏和只读属性，防止病毒修改autorun.inf文件</p>\n<pre><code>attrib +s +h drag0n.ico\n</code></pre><p>给drag0n.ico文件添加系统和隐藏属性，美观。</p>\n<p><img src=\"https://fdrag0n.github.io/image/2.png\" alt=\"\"></p>\n<p>如果还要修改的话，使用以下命令将其显示出来</p>\n<pre><code>attrib -s -h -r autorun.inf\n\nattrib -s -h fdrag0n.ico\n</code></pre>","categories":[],"tags":[]}